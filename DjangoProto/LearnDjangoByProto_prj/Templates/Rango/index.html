{% extends 'Rango/base.html' %}

{% load static %} <!--  another difference from django 2 to 3.1 -->

{%block title_block %}
	{{ page_tab_header }}
{% endblock %}
    
{% block body_block %}
	
	<div class="jumbotron p-4">
		<div class="container">
			<h1 class="jumbotron-heading">Rango says ...</h1>
			<div>
				<h2 class="h2">
				<!--  apparently we get user object "for free" via django-->
				{% if index_page %}
					{% if user.is_authenticated %}
						<p class="regUser">Howdy there {{ user.username }}, Hows it goin'?</p>
					{% else %}
						Hey there partner!
					{% endif %}
				{% endif %}
				</h2>
				{{ greetingmsg }}<br />
			<strong> {{ boldmessage }}</strong>
			</div>
		</div>
	</div>
	
	{% if not index_page %}
		<!-- only counts visits to about page -->
		<p>Visits: {{ visits }} </p>
	{% endif %}
	
	<!--  
	ul is an unordered html list, template cmds go in {percentsign  percentsign} and 
	template variables in doubleCurlyBracket stuff doubleCurlyBracket 
	-->
	{% if index_page %}
		<div class="container">
			<div class="row">
				<div class="col-md-6">
					<div class="card mb-6">
						<div class="card-body">
							<h2>Most Liked Categories</h2>
							<p class="card-text">
							{% if categories %}
							<ul class='list-group'>
							{% for category in categories %}
								<li class='list-group-item'> 
								<a href = "{% url 'Rango:show_category' category.slug %}">{{ category.name }}</a>
								</li>
							{% endfor %}
							</ul>
							{% else %}
								<strong>There are no categories present.</strong>
							{% endif %}
							</p>
						</div>
					</div>
				</div>

		
				<div class="col-md-6">
					<div class="card mb-6">
						<div class="card-body">
							<h2>Most Viewed Pages</h2>
							<p class="card-text">
							{% if pages %}
							<ul class='list-group'>
							{% for page in pages %}
								<li class='list-group-item'> 
								<a href="{{ page.url }}/">{{ page.title }}</a>
								</li>
							{% endfor %}
							</ul>
							{% else %}
							<strong>There are NO pages present.</strong>
							{% endif %}	
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	{% endif %}
	
	<div class="angelKitties">
		<img src="{{ current_angel_kitty }}" alt = "picture of angel kitty" width="400" height="400" />
		Here is my beloved Angel Kitty
		<p class="catTalk">I love to eat MEAT!</p>
	</div>
	

{% endblock %}



