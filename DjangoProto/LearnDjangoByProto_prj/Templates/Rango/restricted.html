{% extends 'Rango/base.html' %}

{% load static %} <!--  another difference from django 2 to 3.1 -->

{%block title_block %}
	{{ page_tab_header }}
{% endblock %}


{% block body_block %}
	<strong>{{ boldmessage }}</strong><br />
	<button class="btn btn-primary"
			onclick="alert('You clicked the button using inline JavaScript.');">
			Click me - I run on vanilla JavaScript!
	</button>
	<button class="btn btn-primary" id="about-btn">
			Click me - I'm using JQuery!
	</button>
	<p>This is some text for a JQuery effect, hover and it changes to 
       red and when you leave, it goes blue</p>
       
    <div id = "msg"> Results of JQuery button:  </div>
    
    <hr class="solid">
       
    <div id="msg1"> Hello!, Below we will try slider inputs for my future math app.  This tone generator uses Web Audio which is
    				not supported in latest version of Internet Explorer, should work fine in Chrome, Edge, Safari, Firefox, etc <br>
    </div>
    
    <div id ="headerAndCtl">
    	<input type="button" id="allowNotePlay" value="Play Note">  	
    	<textarea readonly id="musicalActivity" rows = "1" >Test header </textarea>
    </div>
    
    <div id="menuExplnTones">
	    <div id="InstrumentDropDownMenu">	 
	       	<!-- Bootstrap dropdown see W3schools https://www.w3schools.com/bootstrap/bootstrap_ref_js_dropdown.asp --> 
	   		<button class="btn btn-default dropdown-toggle" type="button"  id="InstrumentToneMenu" data-toggle="dropdown">
	     		<img src="/static/images/MusicMenu.svg" alt = "Music drop down menu to select instruments playing notes" data-toggle="tooltip" title="click to get musical note dropdown menu" >
	       		<span class="caret"></span>
	   		</button>
	   		<!--  role and aria* helps those using screen readers -->
	   		<ul class="dropdown-menu" role="menu" aria-labelledby="InstrumentToneMenu">
				<li role="presentation"><a role="menuitem" tabindex="-1" href="#">Tone Only</a></li>
				<li role="presentation"><a role="menuitem" tabindex="-1" href="#">B<span>&#9837;</span> Trumpet plays C5</a></li>
				<li role="presentation"><a role="menuitem" tabindex="-1" href="#">NextMenuItem</a></li>
	   		</ul>
	    </div>
	    
	    <div id="ExplnBox">
	    <textarea readonly id="classExpln" rows = '4' cols = "50">Help is here </textarea>
	    </div>
		    
		<!--  dont put tables inside a div, they stop "working", elements aren't functional anymore -->
	    <table>
			<tbody>
				<tr>
					<td align="center">
						<div id="toneChanges">
							<table border="0">
								<tbody>
									<tr>
										<th colspan='2'>Sine Wave (tone) Parameters</th>
										<input type="button" id="start-stop-button" value="Start Tone" data-toggle="tooltip" data-placement="top" title="turn on speaker to hear sine wave you created">
									</tr>	
									<tr>		
										<td align="left">
											Frequency: <span id="currFreqLabel">000</span> Hz
										</td>
										<td align="left">
											Amplitude: <span id="currAmpLabel">000</span>
										</td>
										<td align="left">
											Phase: <span id="currPhaseLabel">000</span> degrees
										</td>						
									</tr>
									<tr>
										<!-- vertical orientation not supported the same way by all browsers and likely to change, keep horiz, use bootstrap for tooltips  -->
										<td>
											<input id="in-range-freq" type="range" step="1" value="2000" min="100" max="10000" data-placement="left" data-toggle="tooltip" title="click on slider and use arrows for greater precision">
										</td>
										<td>
											<input id="in-range-amp" type="range" step="1" value="10" min="1" max="100" data-toggle="tooltip" data-placement="left" title="click on slider and use arrows for greater precision">
										</td>
										<td>
											<input id="in-range-phase" type="range" step="1" value="0" min="0" max="360" data-toggle="tooltip" data-placement="left" title="click on slider and use arrows for greater precision">
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</td>
				</tr>
			</tbody>
		</table>

	 	<div id="overlapExpansionLines">
	 		<!--  want to overlap the top graph with expansion lines below it -->
	 		<!--  canvas used for chart js need the size defined one level up at div -->
		 	<div id = "sinePlotLoWrapper">
		 		<!-- Needs to be a bit bigger since it has the title -->
		 		<canvas id="sine_plotsLo">
		 		Your Browser does not support canvas tag, you are missing graph capability
		 		</canvas>
		 	</div>
	 		<canvas id="timeExpand">
	 		Your Browser does not support canvas tag, you are missing graph capability
	 		</canvas>
	 	</div>
	 	<div id = "sinePlotsHiWrapper">
	 		<canvas id="sine_plotsHi">
	 		Your Browser does not support canvas tag, you are missing graph capability
	 		</canvas>
	 	</div>
 	</div>

	
 	
    <br>
    <hr class="solid">
    <div id="msg"> There are three tests a potential user must pass to register a username/password:  Honeypot test, 
    	Math test and recaptcha v3.  A human only sees the math test. You only have to pass Honeypot and math test
    	to get in.  Recaptcha needs time to 'learn' the website to give an accurate score.  Recaptcha v3 scores a user
    	from 0 to 1 where 0 is "definitely robot".  Here I divide up the score into 4 quartiles, 0 to 0.25, 0.25 to 0.5,
    	0.5 to 0.75 and 0.75 to 1.  Here are the counts for all users of this site.<br>
    <br>
    
    <table style="width:100%; border: 1px solid black; border-collapse: collapse;">
    <caption style="caption-side:top; text-align=center;">Performance count of users seeking to register with this site</caption>
  		<tr>
    	<th>Recaptcha V3</th>
    	<th>Math test fail</th>
    	<th>Math test fail</th>
    	<th>Math test pass</th>
    	<th>Math test pass</th>
  		</tr>
  		
  		<tr style="border-bottom:1px solid black">
    	<th>Quartiles</th>
    	<th>Honeypot test fail</th>
    	<th>Honeypot test pass</th>
    	<th>Honeypot test fail</th>
    	<th>Honeypot test pass</th>
  		</tr>
  		
  		<tr>
    	<td style="border-right:1px solid black">Bot (1st quartile)</td>
    	<td style="border-right:1px solid black; text-align:center">{{ hpF_mtF.0 }}</td>
    	<td style="border-right:1px solid black; text-align:center">{{ hpP_mtF.0 }}</td>
    	<td style="border-right:1px solid black; text-align:center">{{ hpF_mtP.0 }}</td>
    	<td style="text-align:center">{{ hpP_mtP.0 }}</td>
  		</tr>
  		<tr>
    	<td style="border-right:1px solid black">Maybe Bot (2nd quartile)</td>
    	<td style="border-right:1px solid black; text-align:center">{{ hpF_mtF.1 }}</td>
    	<td style="border-right:1px solid black; text-align:center">{{ hpP_mtF.1 }}</td>
    	<td style="border-right:1px solid black; text-align:center">{{ hpF_mtP.1 }}</td>
    	<td style="text-align:center">{{ hpP_mtP.1 }}</td>
  		</tr>
  		<tr>
    	<td style="border-right:1px solid black">Maybe Human (3rd quartile)</td>
    	<td style="border-right:1px solid black; text-align:center">{{ hpF_mtF.2 }}</td>
    	<td style="border-right:1px solid black; text-align:center">{{ hpP_mtF.2 }}</td>
    	<td style="border-right:1px solid black; text-align:center">{{ hpF_mtP.2 }}</td>
    	<td style="text-align:center">{{ hpP_mtP.2 }}</td>
  		</tr>
  		<tr>
    	<td style="border-right:1px solid black">Human (4th quartile)</td>
    	<td style="border-right:1px solid black; text-align:center">{{ hpF_mtF.3 }}</td>
    	<td style="border-right:1px solid black; text-align:center">{{ hpP_mtF.3 }}</td>
    	<td style="border-right:1px solid black; text-align:center">{{ hpF_mtP.3 }}</td>
    	<td style="text-align:center">{{ hpP_mtP.3 }}</td>
  		</tr>
	</table>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.73/Tone.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
    
    <!--  have to put another jquery library ref here, not sure why, its in the base -->	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script>
		window.jQuery || document.write('<script src="{% static "js/jquery-360min.js" %}"><\/script>')
	</script>
    
    <script src="{% static "js/TrigAudio.js" %}" crossorigin="anonymous"></script>
{% endblock %}

