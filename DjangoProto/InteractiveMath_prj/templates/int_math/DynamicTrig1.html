{% extends 'int_math/base.html' %}

{% load static %} <!--  another difference from django 2 to 3.1 -->

{%block title_block %}
	{{ page_tab_header }}
{% endblock %}
    
{% block body_block %}

	<div id ="headerAndCtl_DT1">
		<h1 id="HeaderTrig_DT1">Sine meets time and we get frequency</h1>
		<img id="startAutoDemo" src="{% static 'images/autoDemoButton.svg' %}" alt = "Click here to start a demo of page">

		<!--  make a play/pause button set from bootstrap icons -->
		<div id="autoDemoCtls">
		    <table>
		    	<tr>
		    		<td align="center">
		    			<h1>Let's see how this page works!</h1>
		    		</td>
		    	</tr>
				<tr align="center">
					<td align="left">
						Segment Name: <span id="segName"></span>
					</td>
				</tr>
				<tr>
					<td align="left">
						<!--  max value of input will have to be set after JS runs to see how big the script is -->
						Segment Number/Total Segments: 
					</td>
					<td align="left">
						<input id="segNum" type="number" min="1" max="10" maxlength = '2' step="1" required data-toggle="tooltip" title="Select Demo segment to play">
					</td>
					<td align = "left">
						<span id="totalSeg">/0</span>
					</td>
				</tr>
				<tr align="center">
					<td align='left'>
						<div class="btn-group" id="autoDemoPlayPause">
							<button type="button" class="btn btn-outline-secondary" id="playDemo" data-toggle="tooltip" title="Play this segment">
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play" viewBox="0 0 16 16">
					  			<path d="M10.804 8 5 4.633v6.734L10.804 8zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692z"/>
								</svg>
					        </button>
					        <button type="button" class="btn btn-outline-secondary" id="pauseDemo" data-toggle="tooltip" title="Pause this segment">
					        	<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause" viewBox="0 0 16 16">
								<path d="M6 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5zm4 0a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z"/>
								</svg>
							</button>
				        </div>
			        </td>
			        <td align='right'>
			        	<button type="button" class="btn btn-primary" id='dismissAutoDemo'>I'm done</button>
			        </td>
		        </tr>
			</table>
		</div>




	</div>
	
	<div id="CircleValues_DT1">	
		<input type="button" id="ClearOldFreq_DT1" value="Clear" data-toggle="tooltip" data-placement="top" title="Stop clock.  Clear plots">
		<label id = "time_DT1">Time (sec)</label>
		<p id="timeVal_DT1"> </p>
		<label id="thetaLabel_DT1">&#920</label>
		<p id="theta_DT1"> 0 </p>
		<label id = "LastFrequenciesLabel_DT1">f (frequency in Hz)</label>
		<p id="LastFrequencies_DT1"> </p>
		<p id="UserNotices_DT1" ></p>	
		<input type="button" id="StartOver_DT1" value="Start Over" data-toggle="tooltip" data-placement="top" title="Back to beginning on user help">
	</div>
	
	<!-- https://stackoverflow.com/questions/21179779/canvas-arc75-75-50-0-3-1415-true-draws-oval-instead-of-circle -->
	<!-- https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas:  you must set bitmap for canvas in html, css only -->
	<!-- sets element size, resulting in distortion -->
	<div id="UnitCircleAndGraphCanvas">
		<!--  AmpSinCosCircle sits to the left -->
		<canvas id="AmpSinCosCircle_DT1" width=450 height=550>
			Your Browser does not support canvas tag, you are missing graph capability
		</canvas>
		<!--  to add border to canvas, add this at end style="border:1px solid #000000;" -->
		<p id="sinEqtnLabelHI_DT1">S=sin(2&#8901&#960&#8901f&#8901t)</p>  
		<p id="sinEqtnLabelLO_DT1">S=sin(2&#8901&#960&#8901f&#8901t)</p> 
		<!--  FreqChange sits to the right of the above canvas, AmpSinCosCircle_DT1 -->
		<canvas id="FreqChange_DT1" width=500 height=650 >
			Your Browser does not support canvas tag, you are missing graph capability
		</canvas>
		<!-- This funTutorial canvas is intended to lay over all other canvases to give a tutorial of how it works -->
		<!-- width is addition of two canvases above and height = shorter of the two so this sits on top of both of them -->
		<!-- We want to point to objects on unit circle canvas so this canvas must sit exactly on  AmpSinCosCircle_DT1-->
		<canvas id="funTutorial_DT1" width=950 height=550>
			Your Browser does not support canvas tag, you are missing graph capability
		</canvas>							
		
	</div>
	
	<div id="FirstHelp_DT1">
	<!--  will dynamically add elements here -->
		<p></p>
	</div>
	
	<!-- Tell user there is a timer counting their phase accumulation, they need to keep up -->
	<div class="modal fade" id="expiremodal" role="dialog" tabindex="-1">
		<div class="modal-dialog modal-dialog-scrollable" role="document">
			<div class="modal-content">
				<div class="modal-body">
					<h1>Time Expired!</h1>
					<p>The purpose of this page is to accumulate 360&#176 phase within 30 seconds of time.  The faster you do it, the higher the frequency of the sine wave. 
					 Frequency = 1/T where T is how long it takes you to make a complete 360&#176 turn around the circle. 
					 <br><b>We are going to start over. Follow the pop up box and go as fast as you can</b></p>
				</div>
				<div class="modal-footer">
					<!--  when clicked, this will dismiss the modal -->
					<button class="btn btn-success" data-dismiss="modal" type="button">Got it!</button><br class="visible-xs">	
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	
	<!-- Leave this text at the bottom to be consumed by JS and put in proper place.  
	At the bottom it doesn't consume space from other elements but it does give search engines a clue what page is all about. -->
    <p class="AdvTopic_ToDo">TRY THIS: Start clicking yellow dots starting at zero phase going all the way around the circle counterclockwise and eventually ending at zero.  You are accumulating phase as you go around.  Do this as quickly as you can (within 20 sec) and look at your frequency results.  Try it again starting at zero and moving counter clockwise but this time skip every other dot (going faster) and ending at the 0 degrees dot.  Keep doing this, skipping more points but always ending at 0 phase and see how fast you can go.  What you are doing is accumulating phase over time thus creating a frequency.  Wanna understand this?  hit the Explain button above this box
	</p>
	<p class="AdvTopic_Expln">EXPLANATION: As you move counter-clockwise around the unit circle, you are adding phase until you reach the starting place and we calculate your average phase accumulation over time (also known as frequency).  The period of your sine wave is the time it took you to complete a full cycle of the sine wave (0 to 360 degrees).  The frequency (in Hz) is 1 divided by the period (in seconds).  I don't force you to hit every yellow dot, you can skip to get your frequency up.  I do force you to hit at least two samples per period (to obey the Nyquist rate, a college concept), the last one being 360 degrees (for my convenience so I know when to stop the clock).  The oldest frequency you created is on top and newest on bottom and those colors match the waveforms off to the right.  The upper graph shows a full 20 sec and the lower one is a blowup of the first 2 sec. You can see high frequency sinusoids better on the lower graph and low frequency sinusoids better on the upper graph.  You can also see that the higher frequency waveforms have more squiggles than the lower frequency ones for the same time duration.  With a human clicking dots, its pretty hard to get much above 1 Hz.  In the next page, we'll go faster because humans won't be doing the sampling.  You can measure the period of each waveform and see that it matched the time it took you to create it.  What you are really doing is sampling a complex signal, one with a real and imaginary component.  Remember the Origin of Sine Cosine page where cosine was along x axis and sine was along y axis?  But don't worry too much about all that, thats a college class in signal theory." 	
	</p>

	
	<!-- Bootstrap core JavaScript,jquery must be before bootstrap -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script>
		<!-- if you can't load from google, load locally -->
		window.jQuery || document.write('<script src="{% static 'js/jquery-360min.js' %}"><\/script>')
	</script>
	<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>
	<script src="https://getbootstrap.com/docs/4.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-zDnhMsjVZfS3hiP7oCBRmfjkQC4fzxVxFhBx8Hkz2aZX8gEvA/jsP3eXRCvzTofP" crossorigin="anonymous"></script>
			
	<script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js"></script>
	<!-- The feather.replace() causes all data-feather to be replaced with proper svg icon -->
	<script>feather.replace()</script>
	
	<!-- Custom JS for this page -->
	<script src="{% static 'js/IntMath.js' %}" crossorigin="anonymous"></script>	
	<script src="{% static 'js/IntMathUtils.js' %}" crossorigin="anonymous"></script>	    
	<script src="{% static 'js/autoDemo.js' %}" crossorigin="anonymous"></script>	 
	<script src="{% static 'js/DynamicTrig1.js' %}" crossorigin="anonymous"></script>	
	<br><br>
	
{% endblock %}